"0",""
"0","## Set parameters"
"0","first.date <- Sys.Date() - 2500"
"0","last.date <- Sys.Date()"
"0","freq.data <- ""monthly"""
"0","tickers <- c(""TSLA"", ""NIO"", ""PRPL"", ""AAPL"", ""SNAP"", ""MU"", ""AMD"","
"0","             ""NVDA"", ""TWTR"")"
"0",""
"0","## Get Stock Prices"
"0",""
"0","stocks <- BatchGetSymbols(tickers = tickers, "
"0","                         first.date = first.date,"
"0","                         last.date = last.date, "
"0","                         freq.data = freq.data,"
"0","                         do.cache = FALSE,"
"0","                         thresh.bad.data = 0)"
"2","
Running BatchGetSymbols for:"
"2","
   tickers =TSLA, NIO, PRPL, AAPL, SNAP, MU, AMD, NVDA, TWTR"
"2","
   Downloading data for benchmark ticker"
"2","
^GSPC | yahoo (1|1)"
"2","
TSLA | yahoo (1|9)"
"2"," - Got 100% of valid prices | Well done!"
"2","
NIO | yahoo (2|9)"
"2"," - Got 55% of valid prices | You got it!"
"2","
PRPL | yahoo (3|9)"
"2"," - Got 97% of valid prices | Good job!"
"2","
AAPL | yahoo (4|9)"
"2"," - Got 100% of valid prices | OK!"
"2","
SNAP | yahoo (5|9)"
"2"," - Got 78% of valid prices | Mais contente que cusco de cozinheira!"
"2","
MU | yahoo (6|9)"
"2"," - Got 100% of valid prices | Youre doing good!"
"2","
AMD | yahoo (7|9)"
"2"," - Got 100% of valid prices | Well done!"
"2","
NVDA | yahoo (8|9)"
"2"," - Got 100% of valid prices | You got it!"
"2","
TWTR | yahoo (9|9)"
"2"," - Got 100% of valid prices | OK!"
"0","## Verify Returns"
"0","stocks_DT <- stocks$df.tickers %>% setDT() %>%          # Convert to data.table"
"0","  .[order(ticker, ref.date)]                           # Order by ticker and date"
"0"," "
"0",""
"0","## Graph Returns and Prices"
"0","returns_plot_all <- ggplot(stocks_DT, aes(x= ref.date, y = ret.adjusted.prices, colour = ticker)) +"
"0","  geom_line() + theme_bw() + labs(title = """", x = ""Date"", y= ""Monthly Returns"", subtitle = """") "
"0",""
"0","price_plot_all <- ggplot(stocks_DT, aes(x= ref.date, y = price.close, colour = ticker)) +"
"0","  geom_line() + theme_bw() + labs(title = """", x = ""Date"", y= ""Closing Price"", subtitle = """") "
"0",""
"0","returns_sep <- ggplot(stocks_DT[ticker %in% c(""AAPL"", ""PRPL"", ""SNAP"", ""TSLA"")], aes(x = ref.date, y = ret.adjusted.prices)) + geom_line() + facet_wrap(~ticker, scales = ""free_y"") + theme_bw()"
"0","prices_sep <- ggplot(stocks_DT[ticker %in% c(""AAPL"", ""PRPL"", ""SNAP"", ""TSLA"")], aes(x = ref.date, y = price.close)) + geom_line() + facet_wrap(~ticker, scales = ""free_y"") + theme_bw()"
"0",""
"0",""
"0","## All stock tickers in SP 500"
"0","df.SP500 <- GetSP500Stocks()"
"0","tickers <- df.SP500$Tickers"
"0",""
