library(tidyverse)
cf <- read_csv("data/coffee_ratings.csv")
View(cf)
ar <- read_csv("data/arabica_data_cleaned.csv")
View(ar)
install.packages("nanair")
library(nanair)
install.packages("naniar")
library(naniar)
vis_miss(cf)
library(tidyverse)
coffee_ratings <- read_csv("data/coffee_ratings.csv")
ar <- read_csv("data/arabica_data_cleaned.csv")
library(naniar)
vis_miss(coffee_ratings)
glimpse(coffee_ratings)
country_table<-coffee_ratings %>%
count(country_of_origin = factor(country_of_origin)) %>%
mutate(pct = prop.table(n)) %>%
arrange(-pct) %>%
tibble()
# Plot ####
ggplot(
country_table %>% filter(country_of_origin != "NA"),
mapping = aes(
x = reorder(country_of_origin, n),
y = pct,
group = 1,
label = scales::percent(pct)
)
) +
theme_fivethirtyeight() +
geom_bar(stat = "identity",
fill = "#634832") +
geom_text(position = position_dodge(width = 0.9),
# move to center of bars
hjust = -0.05,
#Have Text just above bars
size = 2.5) +
labs(x = "Country of Origin",
y = "Proportion of Dataset") +
theme(axis.text.x = element_text(
angle = 90,
vjust = 0.5,
hjust = 1
)) +
ggtitle("Country of Origin Listed in Coffee Ratings Dataset <img draggable="false" role="img" class="emoji" alt="☕" src="https://s0.wp.com/wp-content/mu-plugins/wpcom-smileys/twemoji/2/svg/2615.svg" scale="0">" ) +   # This Emoji messes up this line in R markdown but hey, it
scale_y_continuous(labels = scales::percent) +                        # looks good.
coord_flip()
# Plot ####
ggplot(
country_table %>% filter(country_of_origin != "NA"),
mapping = aes(
x = reorder(country_of_origin, n),
y = pct,
group = 1,
label = scales::percent(pct)
)
) +
theme_fivethirtyeight() +
geom_bar(stat = "identity",
fill = "#634832") +
geom_text(position = position_dodge(width = 0.9),
# move to center of bars
hjust = -0.05,
#Have Text just above bars
size = 2.5) +
labs(x = "Country of Origin",
y = "Proportion of Dataset") +
theme(axis.text.x = element_text(
angle = 90,
vjust = 0.5,
hjust = 1
)) +
ggtitle("Country of Origin Listed in Coffee Ratings Dataset <img draggable="false" role="img" class="emoji" alt="☕" src="https://s0.wp.com/wp-content/mu-plugins/wpcom-smileys/twemoji/2/svg/2615.svg" scale="0">" ) +   # This Emoji messes up this line in R markdown but hey, it
scale_y_continuous(labels = scales::percent) +                        # looks good.
coord_flip() )
# Plot ####
ggplot(
country_table %>% filter(country_of_origin != "NA"),
mapping = aes(
x = reorder(country_of_origin, n),
y = pct,
group = 1,
label = scales::percent(pct)
)
) +
theme_fivethirtyeight() +
geom_bar(stat = "identity",
fill = "#634832") +
geom_text(position = position_dodge(width = 0.9),
# move to center of bars
hjust = -0.05,
#Have Text just above bars
size = 2.5) +
labs(x = "Country of Origin",
y = "Proportion of Dataset") +
theme(axis.text.x = element_text(
angle = 90,
vjust = 0.5,
hjust = 1
)) +
ggtitle("Country of Origin Listed in Coffee Ratings Dataset <img draggable="false" role="img" class="emoji" alt="☕" src="https://s0.wp.com/wp-content/mu-plugins/wpcom-smileys/twemoji/2/svg/2615.svg" scale="0">" ) +   # This Emoji messes up this line in R markdown but hey, it
scale_y_continuous(labels = scales::percent) +                        # looks good.
coord_flip()
# Plot ####
library(lubridate)
